// language.js - Ø³ÛŒØ³ØªÙ… Ú©Ø§Ù…Ù„ Ú†Ù†Ø¯Ø²Ø¨Ø§Ù†Ù‡
const translations = {
  fa: {
    // ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (index.html)
    welcomeTitle: "Ø¨Ù‡ ØµÙ†Ø¹Øª Ú†ÙˆØ¨ÛŒ Ú†ÙˆÚ©Ø§Ù„ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯",
    welcomeText: "Ø²ÛŒØ¨Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ø§ Ú†ÙˆØ¨ ØªØ¬Ø±Ø¨Ù‡ Ú©Ù†ÛŒØ¯ â¤ï¸",
    welcomeButton: "Ú©ÛŒÙÛŒØª Ø±Ø§ Ø¨Ø§ Ú†ÙˆÚ©Ø§Ù„ ØªØ¬Ø±Ø¨Ù‡ Ú©Ù†ÛŒØ¯",
    clickHint: "ğŸ‘ˆ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯",
    phoneText: 'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ú†ÙˆÚ©Ø§Ù„ - <a href="tel:+989386908288">+989386908288</a>',
    mainMenuTitle: "Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ Ú†ÙˆÚ©Ø§Ù„",
    productsLink: "Ù…Ø­ØµÙˆÙ„Ø§Øª",
    aboutLink: "Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§",
    contactLink: "ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§",
    specialOfferTitle: "ØªØ®ÙÛŒÙ ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ† Ø®Ø±ÛŒØ¯",
    specialOfferSubtitle: "Ùª20 ØªØ®ÙÛŒÙ + Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù†",
    
    // ØµÙØ­Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª (products.html)
    productsTitle: "Ú†ÙˆÚ©Ø§Ù„",
    backButton: "ğŸ  Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ",
    productsTab: "Ù…Ø­ØµÙˆÙ„Ø§Øª",
    favoritesTab: "Ù„ÛŒØ³Øª Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§",
    emptyFavorites: "Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ Ø¨Ù‡ Ù„ÛŒØ³Øª Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø¶Ø§ÙÙ‡ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯",
    chatButton: "ğŸ’¬ Ú†Øª Ø¨Ø§ Ù…Ø§",
    favoritesHeader: "Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§",
    chatAlert: "Ú†Øª Ø¨Ø§ Ù…Ø§ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯!",
    
    // Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª
    productNames: {
      bed: "ğŸ› Ø³Ø±ÙˆÛŒØ³ Ø®ÙˆØ§Ø¨",
      tv: "ğŸ“ºï¸ Ù…ÛŒØ² ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†",
      mirror: "ğŸª‘ Ø¢ÛŒÙ†Ù‡ Ú©Ù†Ø³ÙˆÙ„",
      jak: "ğŸ‘ Ø¬Ø§Ú©ÙØ´ÛŒ",
      sofa: "ğŸ›‹ï¸ Ø¬Ù„Ùˆ Ù…Ø¨Ù„ÛŒ",
      deco: "â¤ï¸ Ù…Ø­ØµÙˆÙ„Ø§Øª ØªØ²ÛŒÛŒÙ†ÛŒ",
      steel_sofa: "ğŸ  Ù…Ø¨Ù„ Ø§Ø³ØªÛŒÙ„",
      standing_mirror: "â¤ï¸ Ø¢ÛŒÛŒÙ†Ù‡ Ù‚Ø¯ÛŒ",
      comfort_sofa: "ğŸ  Ù…Ø¨Ù„ Ø±Ø§Ø­ØªÛŒ"
    }
  },
  
  en: {
    // Main page (index.html)
    welcomeTitle: "Welcome to Chocal Wood Industry",
    welcomeText: "Experience beauty with wood â¤ï¸",
    welcomeButton: "Experience quality with Chocal",
    clickHint: "ğŸ‘ˆ Click here",
    phoneText: 'Contact Chocal Wood - <a href="tel:+989386908288">+989386908288</a>',
    mainMenuTitle: "Chocal Main Menu",
    productsLink: "Products",
    aboutLink: "About Us",
    contactLink: "Contact Us",
    specialOfferTitle: "Special Discount for First Purchase",
    specialOfferSubtitle: "20% Discount + Free Shipping",
    
    // Products page (products.html)
    productsTitle: "Chocal",
    backButton: "ğŸ  Back to Home",
    productsTab: "Products",
    favoritesTab: "Favorites",
    emptyFavorites: "You haven't added any products to favorites yet",
    chatButton: "ğŸ’¬ Chat with us",
    favoritesHeader: "Favorites",
    chatAlert: "Chat with us will be available soon!",
    
    // Product names
    productNames: {
      bed: "ğŸ› Bedroom Set",
      tv: "ğŸ“ºï¸ TV Stand",
      mirror: "ğŸª‘ Console Mirror",
      jak: "ğŸ‘ Shoe Rack",
      sofa: "ğŸ›‹ï¸ Coffee Table",
      deco: "â¤ï¸ Decorative Products",
      steel_sofa: "ğŸ  Steel Sofa",
      standing_mirror: "â¤ï¸ Standing Mirror",
      comfort_sofa: "ğŸ  Comfort Sofa"
    }
  },
  
  ar: {
    // Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (index.html)
    welcomeTitle: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø®Ø´Ø¨ Ø´ÙˆÙƒØ§Ù„",
    welcomeText: "Ø§Ø®ØªØ¨Ø±ÙˆØ§ Ø§Ù„Ø¬Ù…Ø§Ù„ Ù…Ø¹ Ø§Ù„Ø®Ø´Ø¨ â¤ï¸",
    welcomeButton: "Ø¬Ø±Ù‘Ø¨ÙˆØ§ Ø§Ù„Ø¬ÙˆØ¯Ø© Ù…Ø¹ Ø´ÙˆÙƒØ§Ù„",
    clickHint: "ğŸ‘ˆ Ø§Ø¶ØºØ· Ù‡Ù†Ø§",
    phoneText: 'Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø´Ø±ÙƒØ© Ø´ÙˆÙƒØ§Ù„ - <a href="tel:+989386908288">+989386908288</a>',
    mainMenuTitle: "Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø´ÙˆÙƒØ§Ù„",
    productsLink: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
    aboutLink: "Ù…Ù† Ù†Ø­Ù†",
    contactLink: "Ø§ØªØµÙ„ Ø¨Ù†Ø§",
    specialOfferTitle: "Ø®ØµÙ… Ø®Ø§Øµ Ù„Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø£ÙˆÙ„",
    specialOfferSubtitle: "Ø®ØµÙ… 20% + Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ",
    
    // ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (products.html)
    productsTitle: "Ø´ÙˆÙƒØ§Ù„",
    backButton: "ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
    productsTab: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
    favoritesTab: "Ø§Ù„Ù…ÙØ¶Ù„Ø©",
    emptyFavorites: "Ù„Ù… ØªÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø¨Ø¹Ø¯",
    chatButton: "ğŸ’¬ Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹Ù†Ø§",
    favoritesHeader: "Ø§Ù„Ù…ÙØ¶Ù„Ø©",
    chatAlert: "Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹Ù†Ø§ Ø³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹!",
    
    // Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
    productNames: {
      bed: "ğŸ› Ø·Ù‚Ù… ØºØ±ÙØ© Ù†ÙˆÙ…",
      tv: "ğŸ“ºï¸ Ø·Ø§ÙˆÙ„Ø© ØªÙ„ÙØ²ÙŠÙˆÙ†",
      mirror: "ğŸª‘ Ù…Ø±Ø¢Ø© ÙƒÙˆÙ†Ø³ÙˆÙ„",
      jak: "ğŸ‘ Ø­Ø§Ù…Ù„ Ø£Ø­Ø°ÙŠØ©",
      sofa: "ğŸ›‹ï¸ Ø·Ø§ÙˆÙ„Ø© Ù‚Ù‡ÙˆØ©",
      deco: "â¤ï¸ Ù…Ù†ØªØ¬Ø§Øª ØªØ²ÙŠÙŠÙ†ÙŠØ©",
      steel_sofa: "ğŸ  Ø£Ø±ÙŠÙƒØ© Ø³ØªÙŠÙ„",
      standing_mirror: "â¤ï¸ Ù…Ø±Ø¢Ø© ÙˆØ§Ù‚ÙØ©",
      comfort_sofa: "ğŸ  Ø£Ø±ÙŠÙƒØ© Ù…Ø±ÙŠØ­Ø©"
    }
  }
};

// ØªØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù†
function switchLanguage(lang) {
  // Ø°Ø®ÛŒØ±Ù‡ Ø²Ø¨Ø§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¯Ø± localStorage
  localStorage.setItem('selectedLanguage', lang);
  
  // ØªØºÛŒÛŒØ± Ø¬Ù‡Øª ØµÙØ­Ù‡
  document.documentElement.lang = lang;
  document.documentElement.dir = lang === 'en' ? 'ltr' : 'rtl';
  
  // ØªØ±Ø¬Ù…Ù‡ Ø¹Ù†Ø§ØµØ± ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (index.html)
  if (document.querySelector('.welcome-box')) {
    translateIndexPage(lang);
  }
  
  // ØªØ±Ø¬Ù…Ù‡ Ø¹Ù†Ø§ØµØ± ØµÙØ­Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª (products.html)
  if (document.querySelector('.header')) {
    translateProductsPage(lang);
  }
  
  // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª CSS Ø¨Ø±Ø§ÛŒ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
  updateLanguageStyles(lang);
}

// ØªØ±Ø¬Ù…Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
function translateIndexPage(lang) {
  const t = translations[lang];
  
  // Ø¹Ù†ÙˆØ§Ù† Ø§ØµÙ„ÛŒ
  const mainTitle = document.querySelector('h1');
  if (mainTitle) mainTitle.innerText = t.welcomeTitle;
  
  // Ù…ØªÙ† Ø®ÙˆØ´Ø§Ù…Ø¯Ú¯ÙˆÛŒÛŒ
  const welcomeText = document.querySelector('.welcome-box p');
  if (welcomeText) welcomeText.innerText = t.welcomeText;
  
  // Ø¯Ú©Ù…Ù‡ Ø§ØµÙ„ÛŒ
  const mainButton = document.querySelector('.button');
  if (mainButton) mainButton.innerText = t.welcomeButton;
  
  // Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒÚ©
  const clickHint = document.getElementById('click-text');
  if (clickHint) clickHint.innerText = t.clickHint;
  
  // Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³
  const phoneText = document.getElementById('phone-text');
  if (phoneText) phoneText.innerHTML = t.phoneText;
  
  // Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
  const mainMenuTitle = document.querySelector('.main-menu h2');
  if (mainMenuTitle) mainMenuTitle.innerText = t.mainMenuTitle;
  
  // Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ
  const productsLink = document.querySelector('#products-link');
  if (productsLink) productsLink.innerText = t.productsLink;
  
  const aboutLink = document.querySelector('.main-menu ul li:nth-child(2) a');
  if (aboutLink) aboutLink.innerText = t.aboutLink;
  
  const contactLink = document.querySelector('.main-menu ul li:nth-child(3) a');
  if (contactLink) contactLink.innerText = t.contactLink;
  
  // ØªØ®ÙÛŒÙ ÙˆÛŒÚ˜Ù‡
  const offerTitle = document.querySelector('.special-offer .offer-text');
  if (offerTitle) offerTitle.innerText = t.specialOfferTitle;
  
  const offerSubtitle = document.querySelector('.special-offer .offer-subtitle');
  if (offerSubtitle) offerSubtitle.innerText = t.specialOfferSubtitle;
}

// ØªØ±Ø¬Ù…Ù‡ ØµÙØ­Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª
function translateProductsPage(lang) {
  const t = translations[lang];
  
  // Ø¹Ù†ÙˆØ§Ù† ØµÙØ­Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª
  const productsTitle = document.querySelector('.header h1');
  if (productsTitle) productsTitle.innerText = t.productsTitle;
  
  // Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª
  const backButton = document.querySelector('.back-btn');
  if (backButton) backButton.innerText = t.backButton;
  
  // ØªØ¨â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ
  const navButtons = document.querySelectorAll('.nav-btn');
  if (navButtons.length >= 2) {
    navButtons[0].innerText = t.productsTab;
    
    // ØªØ¨ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø¨Ø§ Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡
    const favoriteCount = document.getElementById('favoriteCount');
    const currentCount = favoriteCount ? favoriteCount.innerText : '0';
    navButtons[1].innerHTML = `${t.favoritesTab} (<span id="favoriteCount">${currentCount}</span>)`;
  }
  
  // ØªØ±Ø¬Ù…Ù‡ Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª
  const productLinks = document.querySelectorAll('.product-link');
  const productCards = document.querySelectorAll('.product-card');
  
  productCards.forEach((card, index) => {
    const productId = card.dataset.product;
    const link = card.querySelector('.product-link');
    
    if (link && productId && t.productNames[productId]) {
      link.innerText = t.productNames[productId];
    } else if (link) {
      // Ø¨Ø±Ø§ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§Ø¶Ø§ÙÛŒ Ú©Ù‡ Ø¯Ø± dataset ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯
      const cardIndex = Array.from(productCards).indexOf(card);
      if (cardIndex === 6) link.innerText = t.productNames.steel_sofa;
      else if (cardIndex === 7) link.innerText = t.productNames.standing_mirror;
      else if (cardIndex === 8) link.innerText = t.productNames.comfort_sofa;
    }
  });
  
  // Ù…ØªÙ† Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯Ù† Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§
  const emptyFavorites = document.querySelector('.empty-favorites p');
  if (emptyFavorites) emptyFavorites.innerText = t.emptyFavorites;
  
  // Ø¯Ú©Ù…Ù‡ Ú†Øª
  const chatButton = document.querySelector('.chat-btn');
  if (chatButton) chatButton.innerText = t.chatButton;
  
  // Ù‡Ø¯Ø± Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§
  const favoritesHeader = document.querySelector('.favorites-header');
  if (favoritesHeader) {
    const headerSpans = favoritesHeader.querySelectorAll('span');
    if (headerSpans.length >= 2) {
      headerSpans[1].innerText = t.favoritesHeader;
    }
  }
  
  // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù„ÛŒØ³Øª Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§
  if (typeof updateFavoritesList === 'function') {
    updateFavoritesList();
  }
}

// Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø²Ø¨Ø§Ù†
function updateLanguageStyles(lang) {
  const body = document.body;
  
  // Ø­Ø°Ù Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø²Ø¨Ø§Ù† Ù‚Ø¨Ù„ÛŒ
  body.classList.remove('lang-fa', 'lang-en', 'lang-ar');
  
  // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ Ø²Ø¨Ø§Ù† Ø¬Ø¯ÛŒØ¯
  body.classList.add(`lang-${lang}`);
  
  // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø®Ø§Øµ Ø¨Ø±Ø§ÛŒ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
  if (lang === 'en') {
    // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø®Ø§Øµ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ
    document.documentElement.style.setProperty('--text-align', 'left');
    document.documentElement.style.setProperty('--flex-direction', 'row');
  } else {
    // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø®Ø§Øµ ÙØ§Ø±Ø³ÛŒ Ùˆ Ø¹Ø±Ø¨ÛŒ
    document.documentElement.style.setProperty('--text-align', 'right');
    document.documentElement.style.setProperty('--flex-direction', 'row-reverse');
  }
}

// ØªÙˆØ§Ø¨Ø¹ Ù…Ø®ØµÙˆØµ ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù†
function switchToFarsi() {
  switchLanguage('fa');
}

function switchToEnglish() {
  switchLanguage('en');
}

function switchToArabic() {
  switchLanguage('ar');
}

// Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù„ÛŒØ³Øª Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø¨Ø§ ØªØ±Ø¬Ù…Ù‡
function updateFavoritesList() {
  const lang = localStorage.getItem('selectedLanguage') || 'fa';
  const t = translations[lang];
  const favoritesList = document.getElementById('favoritesList');
  
  if (!favoritesList) return;
  
  // Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø² localStorage
  const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
  
  if (favorites.length === 0) {
    favoritesList.innerHTML = `
      <div class="empty-favorites">
        <p>${t.emptyFavorites}</p>
        <p>â¤ï¸</p>
      </div>
    `;
  } else {
    favoritesList.innerHTML = favorites.map(productId => {
      const productName = t.productNames[productId] || productId;
      return `
        <div class="product-card" data-product="${productId}">
          <button class="favorite-btn active" onclick="toggleFavorite('${productId}', this)">â™¥</button>
          <a href="${productId}.html" class="product-link">${productName}</a>
        </div>
      `;
    }).join('');
  }
}

// Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾ÛŒØ§Ù… Ú†Øª
function openChat() {
  const lang = localStorage.getItem('selectedLanguage') || 'fa';
  const t = translations[lang];
  alert(t.chatAlert);
}

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø²Ø¨Ø§Ù† Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ù‡Ù†Ú¯Ø§Ù… Ù„ÙˆØ¯ ØµÙØ­Ù‡
document.addEventListener('DOMContentLoaded', function() {
  const savedLang = localStorage.getItem('selectedLanguage') || 'fa';
  switchLanguage(savedLang);
});

// Ø±ÙˆÛŒØ¯Ø§Ø¯ ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù† Ø¨Ø±Ø§ÛŒ ØµÙØ­Ø§Øª Ù…Ø®ØªÙ„Ù
window.addEventListener('load', function() {
  const savedLang = localStorage.getItem('selectedLanguage') || 'fa';
  
  // ØªØ£Ø®ÛŒØ± Ú©ÙˆØªØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù„ÙˆØ¯ Ú©Ø§Ù…Ù„ Ø¹Ù†Ø§ØµØ±
  setTimeout(() => {
    switchLanguage(savedLang);
  }, 100);
});

// export Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ø³Ø§ÛŒØ± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    translations,
    switchLanguage,
    switchToFarsi,
    switchToEnglish,
    switchToArabic,
    updateFavoritesList,
    openChat
  };
}

